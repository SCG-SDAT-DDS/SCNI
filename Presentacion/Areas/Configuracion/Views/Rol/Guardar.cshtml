@using Datos.Repositorios.Configuracion
@model Datos.Rol

@{
    ViewBag.Title = Resources.General.GuardarRol;
}


@using (Html.BeginForm())
{
    <div class="ibox bx-s">
        <div class="ibox-content p-l-20 p-r-10 bg-f">
            <div class="row center-xs">
                <div class="form-horizontal col-xs-12">
                    <div class="form-group">
                        <div class="col-sm-4 end-sm start-xs">
                            <strong class="obligatorio">*</strong>@Html.LabelFor(m => m.Nombre)
                        </div>
                        <div class="col-sm-4">
                            @Html.TextBoxFor(m => m.Nombre, new { @class = "form-control input-sm", @maxlength = 40 })
                            @Html.ValidationMessageFor(m => m.Nombre, null, new { @class = "label label-warning" })
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-4 end-sm start-xs">
                            <strong class="obligatorio">*</strong>@Html.LabelFor(m => m.Descripcion)
                        </div>
                        <div class="col-sm-4">
                            @Html.TextBoxFor(m => m.Descripcion, new { @class = "form-control input-sm", @maxlength = 100 })
                            @Html.ValidationMessageFor(m => m.Descripcion, null, new { @class = "label label-warning" })
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-4 end-sm start-xs">
                            <strong class="obligatorio">*</strong>@Html.LabelFor(m => m.PaginaInicio)
                        </div>
                        <div class="col-sm-4">
                            @Html.DropDownListFor(m => m.PaginaInicio, MenuRepositorio.Buscar(), "Seleccione...", new {@class = "form-control input-sm"})
                            @*@Html.ValidationMessageFor(m => m.PaginaInicio, null, new {@class = "label label-warning"})*@
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-4 end-sm start-xs">
                            <strong class="obligatorio">*</strong>@Html.LabelFor(m => m.TipoInicio)
                        </div>
                        <div class="col-sm-4">
                            @Html.EnumDropDownListFor(m => m.TipoInicio, "Seleccione...", new { @class = "form-control input-sm" })
                            @Html.ValidationMessageFor(m => m.TipoInicio, null, new { @class = "label label-warning" })
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="col-sm-6 col-sm-offset-2">
                            <div class="pull-right">
                                @Html.ActionLink(Resources.General.Regresar, "Index", "Rol", new { @class = "btn btn-default" })
                                <input type="submit" value="@Resources.General.Guardar" class="btn btn-primary" />
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
}
<script type="text/javascript">
    $(document).ready(function () {
        $("form").on("submit", function () {
            var no_validos = 0;
            no_validos += ValidarControl($("#Nombre")) ? 0 : 1;
            no_validos += ValidarControl($("#Descripcion")) ? 0 : 1;
            no_validos += ValidarControl($("#PaginaInicio")) ? 0 : 1;
            no_validos += ValidarControl($("#TipoInicio")) ? 0 : 1;

            if (no_validos > 0) {
                var mensaje = "Los campos marcados en rojo no deben estar vacios.";
                mostrarAlert(mensaje, "danger", true);

                $('html,body').scrollTop(0);

                event.preventDefault();
                return false;
            }

        });
    });

</script>